(function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self,e.Fuse=t())})(this,function(){"use strict";function j(e){return"@babel/helpers - typeof",typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?j=function(e){return typeof e}:j=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function n(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){var n,s=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)),s}function G(e){for(var t,n=1;n<arguments.length;n++)t=arguments[n]!=null?arguments[n]:{},n%2?q(Object(t),!0).forEach(function(n){M(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(e)}function w(e,t){return w=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},w(e,t)}function _e(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:ye(e)}function r(e){return function(){var t,s,n=p(e);return _e()?(s=p(this).constructor,t=Reflect.construct(n,arguments,s)):t=n.apply(this,arguments),pe(this,t)}}function d(e){return he(e)||ue(e)||de(e)||ce()}function he(e){if(Array.isArray(e))return C(e)}function ue(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function de(e,t){if(!e)return;if(typeof e=="string")return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}function C(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}var e,o,a,v,y,_,x,z,D,N,L,P,H,I,B,V,ie,F,$,oe,ne,te,g,O,S,ee,c,h,m,b,k,T,U,Y,X,Q,J,ve=1/0;function ge(e){if(typeof e=="string")return e;var t=e+"";return t=="0"&&1/e==-ve?"-0":t}function le(e){return e==null?"":ge(e)}function i(e){return typeof e=="string"}function Z(e){return typeof e=="number"}function Ae(e){return j(e)==="object"}function s(e){return e!=null}function A(e){return!e.trim().length}U="Extended search is not available",V="Incorrect 'index' type",N=function(t){return"Invalid value for key ".concat(t)},J=function(t){return"Pattern length exceeds max of ".concat(t,".")},z=function(t){return"Missing ".concat(t," property in key")},D=function(t){return"Property 'weight' in key '".concat(t,"' must be a positive integer")},x=Object.prototype.hasOwnProperty,L=function(){function e(n){var o,s=this;t(this,e),this._keys={},this._keyNames=[],o=0,n.forEach(function(e){var t,n=1;if(i(e))t=e;else{if(!x.call(e,"name"))throw new Error(z("name"));if(t=e.name,x.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(D(t))}s._keyNames.push(t),s._keys[t]={weight:n},o+=n}),this._keyNames.forEach(function(e){s._keys[e].weight/=o})}return n(e,[{key:"get",value:function(t,n){return this._keys[t]&&this._keys[t][n]}},{key:"keys",value:function(){return this._keyNames}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function Ee(e,t){var n=[],o=!1,a=function e(t,a){if(a){if(l=a.indexOf("."),d=a,c=null,l!==-1&&(d=a.slice(0,l),c=a.slice(l+1)),r=t[d],!s(r))return;if(!c&&(i(r)||Z(r)))n.push(le(r));else if(u(r)){o=!0;for(var r,c,l,d,h=0,m=r.length;h<m;h+=1)e(r[h],c)}else c&&e(r,c)}else n.push(t)};return a(e,t),o?n:n[0]}P={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},H={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(t,n){return t.score===n.score?t.idx<n.idx?-1:1:t.score<n.score?-1:1}},I={location:0,threshold:.6,distance:100},B={useExtendedSearch:!1,getFn:Ee},e=G({},H,{},P,{},I,{},B),$=/[^ ]+/g;function Ce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,e=new Map;return{get:function(s){var i,o=s.match($).length;return e.has(o)?e.get(o):(i=parseFloat((1/Math.sqrt(o)).toFixed(t)),e.set(o,i),i)},clear:function(){e.clear()}}}v=function(){function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=s.getFn,i=n===void 0?e.getFn:n;t(this,o),this.norm=Ce(3),this.getFn=i,this.isCreated=!1,this.setRecords()}return n(o,[{key:"setCollection",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=t}},{key:"setRecords",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=t}},{key:"setKeys",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=t}},{key:"create",value:function(){var t=this;if(this.isCreated||!this.docs.length)return;this.isCreated=!0,i(this.docs[0])?this.docs.forEach(function(e,n){t._addString(e,n)}):this.docs.forEach(function(e,n){t._addObject(e,n)}),this.norm.clear()}},{key:"add",value:function(t){var n=this.size();i(t)?this._addString(t,n):this._addObject(t,n)}},{key:"removeAt",value:function(t){this.records.splice(t,1);for(var n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(t,n){if(!s(t)||A(t))return;var o={v:t,i:n,n:this.norm.get(t)};this.records.push(o)}},{key:"_addObject",value:function(t,n){var o=this,a={i:n,$:{}};this.keys.forEach(function(e,n){var c,r=o.getFn(t,e);if(!s(r))return;u(r)?function(){for(c=[],t=[{nestedArrIndex:-1,value:r}];t.length;){var t,c,d,l=t.pop(),h=l.nestedArrIndex,e=l.value;if(!s(e))continue;i(e)&&!A(e)?(d={v:e,i:h,n:o.norm.get(e)},c.push(d)):u(e)&&e.forEach(function(e,n){t.push({nestedArrIndex:n,value:e})})}a.$[n]=c}():A(r)||(c={v:r,n:o.norm.get(r)},a.$[n]=c)}),this.records.push(a)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),o}();function K(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.getFn,a=o===void 0?e.getFn:o,s=new v({getFn:a});return s.setKeys(t),s.setCollection(n),s.create(),s}function xe(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.getFn,i=s===void 0?e.getFn:s,a=t.keys,r=t.records,n=new v({getFn:i});return n.setKeys(a),n.setRecords(r),n}function Oe(e,t){var n=e.matches;if(t.matches=[],!s(n))return;n.forEach(function(e){if(!s(e.indices)||!e.indices.length)return;var o=e.indices,i=e.value,n={indices:o,value:i};e.key&&(n.key=e.key),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)})}function we(e,t){t.score=e.score}function f(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.errors,d=s===void 0?0:s,o=n.currentLocation,u=o===void 0?0:o,i=n.expectedLocation,h=i===void 0?0:i,a=n.distance,r=a===void 0?e.distance:a,c=d/t.length,l=Math.abs(h-u);return r?c+l/r:l?1:c}function ae(){for(var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.minMatchCharLength,o=[],t=-1,i=-1,n=0,c=s.length;n<c;n+=1)a=s[n],a&&t===-1?t=n:!a&&t!==-1&&(i=n-1,i-t+1>=r&&o.push([t,i]),t=-1);return s[n-1]&&n-t>=r&&o.push([t,n-1]),o}o=32;function fe(t,n,s){var i,a,r,c,l,d,u,h,p,g,v,b,j,y,_,w,C,E,k,A,S,M,F,D,L,P,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I=m.location,B=I===void 0?e.location:I,N=m.distance,O=N===void 0?e.distance:N,H=m.threshold,W=H===void 0?e.threshold:H,z=m.findAllMatches,V=z===void 0?e.findAllMatches:z,R=m.minMatchCharLength,$=R===void 0?e.minMatchCharLength:R,T=m.includeMatches,x=T===void 0?e.includeMatches:T;if(n.length>o)throw new Error(J(o));if(c=n.length,p=t.length,i=Math.max(0,Math.min(B,p)),h=W,d=i,g=[],x)for(C=0;C<p;C+=1)g[C]=0;for(;(E=t.indexOf(n,d))>-1;)if(L=f(n,{currentLocation:E,expectedLocation:i,distance:O}),h=Math.min(L,h),d=E+c,x)for(k=0;k<c;)g[E+k]=1,k+=1;for(d=-1,v=[],_=1,y=c+p,P=1<<(c<=o-1?c-1:o-2),l=0;l<c;l+=1){for(j=0,r=y;j<r;)F=f(n,{errors:l,currentLocation:i+r,expectedLocation:i,distance:O}),F<=h?j=r:y=r,r=Math.floor((y-j)/2+j);y=r,A=Math.max(1,i-r+1),w=V?p:Math.min(i+r,p)+c,u=Array(w+2),u[w+1]=(1<<l)-1;for(a=w;a>=A;a-=1)if(b=a-1,M=s[t.charAt(b)],M&&x&&(g[b]=1),u[a]=(u[a+1]<<1|1)&M,l!==0&&(u[a]|=(v[a+1]|v[a])<<1|1|v[a+1]),u[a]&P&&(_=f(n,{errors:l,currentLocation:b,expectedLocation:i,distance:O}),_<=h)){if(h=_,d=b,d<=i)break;A=Math.max(1,2*i-d)}if(D=f(n,{errors:l+1,currentLocation:i,expectedLocation:i,distance:O}),D>h)break;v=u}return S={isMatch:d>=0,score:Math.max(.001,_)},x&&(S.indices=ae(g,$)),S}function me(e){for(var s,n={},t=0,o=e.length;t<o;t+=1)s=e.charAt(t),n[s]=(n[s]||0)|1<<o-t-1;return n}y=function(){function s(n){var a,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.location,_=l===void 0?e.location:l,d=i.threshold,y=d===void 0?e.threshold:d,u=i.distance,j=u===void 0?e.distance:u,m=i.includeMatches,g=m===void 0?e.includeMatches:m,f=i.findAllMatches,b=f===void 0?e.findAllMatches:f,c=i.minMatchCharLength,v=c===void 0?e.minMatchCharLength:c,p=i.isCaseSensitive,h=p===void 0?e.isCaseSensitive:p;for(t(this,s),this.options={location:_,threshold:y,distance:j,includeMatches:g,findAllMatches:b,minMatchCharLength:v,isCaseSensitive:h},this.pattern=h?n:n.toLowerCase(),this.chunks=[],a=0;a<this.pattern.length;)r=this.pattern.substring(a,a+o),this.chunks.push({pattern:r,alphabet:me(r)}),a+=o}return n(s,[{key:"searchIn",value:function(t){var l=this.options,v=l.isCaseSensitive,r=l.includeMatches;if(v||(t=t.toLowerCase()),this.pattern===t)return c={isMatch:!0,score:0},r&&(c.indices=[[0,t.length-1]]),c;var a,c,n=this.options,g=n.location,h=n.distance,p=n.threshold,f=n.findAllMatches,m=n.minMatchCharLength,i=[],u=0,s=!1;return this.chunks.forEach(function(e,n){var v=e.pattern,b=e.alphabet,a=fe(t,v,b,{location:g+o*n,distance:h,threshold:p,findAllMatches:f,minMatchCharLength:m,includeMatches:r}),c=a.isMatch,j=a.score,l=a.indices;c&&(s=!0),u+=j,c&&l&&(i=[].concat(d(i),d(l)))}),a={isMatch:s,score:s?u/this.chunks.length:1},s&&r&&(a.indices=i),a}}]),s}(),a=function(){function e(n){t(this,e),this.pattern=n}return n(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(t){return se(t,this.multiRegex)}},{key:"isSingleMatch",value:function(t){return se(t,this.singleRegex)}}]),e}();function se(e,t){var n=e.match(t);return n?n[1]:null}_=function(e){l(s,e);var o=r(s);function s(e){return t(this,s),o.call(this,e)}return n(s,[{key:"search",value:function(t){for(var s,i,n=0,o=[],a=this.pattern.length;(s=t.indexOf(this.pattern,n))>-1;)n=s+a,o.push([s,n-1]);return i=!!o.length,{isMatch:i,score:i?1:0,indices:o}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),s}(a),ie=function(e){l(s,e);var o=r(s);function s(e){return t(this,s),o.call(this,e)}return n(s,[{key:"search",value:function(t){var s=t.indexOf(this.pattern),n=s===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),s}(a),F=function(e){l(s,e);var o=r(s);function s(e){return t(this,s),o.call(this,e)}return n(s,[{key:"search",value:function(t){var n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),s}(a),oe=function(e){l(s,e);var o=r(s);function s(e){return t(this,s),o.call(this,e)}return n(s,[{key:"search",value:function(t){var n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),s}(a),ne=function(e){l(s,e);var o=r(s);function s(e){return t(this,s),o.call(this,e)}return n(s,[{key:"search",value:function(t){var n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),s}(a),te=function(e){l(s,e);var o=r(s);function s(e){return t(this,s),o.call(this,e)}return n(s,[{key:"search",value:function(t){var n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),s}(a),S=function(s){l(o,s);var i=r(o);function o(n){var a,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=s.location,v=m===void 0?e.location:m,l=s.threshold,j=l===void 0?e.threshold:l,u=s.distance,p=u===void 0?e.distance:u,r=s.includeMatches,f=r===void 0?e.includeMatches:r,h=s.findAllMatches,g=h===void 0?e.findAllMatches:h,c=s.minMatchCharLength,b=c===void 0?e.minMatchCharLength:c,d=s.isCaseSensitive,_=d===void 0?e.isCaseSensitive:d;return t(this,o),a=i.call(this,n),a._bitapSearch=new y(n,{location:v,threshold:j,distance:p,includeMatches:f,findAllMatches:g,minMatchCharLength:b,isCaseSensitive:_}),a}return n(o,[{key:"search",value:function(t){return this._bitapSearch.searchIn(t)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),o}(a),g=[_,F,oe,te,ne,ie,S],O=g.length,ee=/ +(?=([^"]*"[^"]*")*[^"]*$)/,T="|";function be(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.split(T).map(function(e){for(var n,s,a,r,c,l,d,u=e.trim().split(ee).filter(function(e){return e&&!!e.trim()}),o=[],i=0,h=u.length;i<h;i+=1){for(a=u[i],s=!1,n=-1;!s&&++n<O;)r=g[n],c=r.isMultiMatch(a),c&&(o.push(new r(c,t)),s=!0);if(s)continue;for(n=-1;++n<O;)if(l=g[n],d=l.isSingleMatch(a),d){o.push(new l(d,t));break}}return o})}Q=new Set([S.type,_.type]),X=function(){function s(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=o.isCaseSensitive,d=h===void 0?e.isCaseSensitive:h,r=o.includeMatches,v=r===void 0?e.includeMatches:r,l=o.minMatchCharLength,p=l===void 0?e.minMatchCharLength:l,u=o.findAllMatches,m=u===void 0?e.findAllMatches:u,i=o.location,f=i===void 0?e.location:i,a=o.threshold,g=a===void 0?e.threshold:a,c=o.distance,b=c===void 0?e.distance:c;t(this,s),this.query=null,this.options={isCaseSensitive:d,includeMatches:v,minMatchCharLength:p,findAllMatches:m,location:f,threshold:g,distance:b},this.pattern=d?n:n.toLowerCase(),this.query=be(this.pattern,this.options)}return n(s,[{key:"searchIn",value:function(t){if(i=this.query,!i)return{isMatch:!1,score:1};var g=this.options,f=g.includeMatches,j=g.isCaseSensitive;t=j?t:t.toLowerCase();for(s=0,n=[],o=0,r=0,m=i.length;r<m;r+=1){l=i[r],n.length=0,s=0;for(a=0,p=l.length;a<p;a+=1){var n,s,o,i,a,r,l,h,m,p,b,c=l[a],u=c.search(t),y=u.isMatch,v=u.indices,_=u.score;if(y)s+=1,o+=_,f&&(b=c.constructor.type,Q.has(b)?n=[].concat(d(n),d(v)):n.push(v));else{o=0,s=0,n.length=0;break}}if(s)return h={isMatch:!0,score:o/s},f&&(h.indices=n),h}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(t,n){return n.useExtendedSearch}}]),s}(),m=[];function je(){m.push.apply(m,arguments)}function E(e,t){for(var s,n=0,o=m.length;n<o;n+=1)if(s=m[n],s.condition(e,t))return new s(e,t);return new y(e,t)}h={AND:"$and",OR:"$or"},b=function(t){return!!(t[h.AND]||t[h.OR])},Y=function(t){return!u(t)&&Ae(t)&&!b(t)},k=function(t){return M({},h.AND,Object.keys(t).map(function(e){return M({},e,t[e])}))};function W(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=s.auto,o=n===void 0||n,a=function e(n){var s,a,c,l,r=Object.keys(n);if(r.length>1&&!b(n))return e(k(n));if(s=r[0],Y(n)){if(a=n[s],!i(a))throw new Error(N(s));return c={key:s,pattern:a},o&&(c.searcher=E(a,t)),c}return l={children:[],operator:s},r.forEach(function(t){var s=n[t];u(s)&&s.forEach(function(t){l.children.push(e(t))})}),l};return b(e)||(e=k(e)),a(e)}c=function(){function o(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(t(this,o),this.options=G({},e,{},s),this.options.useExtendedSearch&&!!0)throw new Error(U);this._keyStore=new L(this.options.keys),this.setCollection(n,i)}return n(o,[{key:"setCollection",value:function(t,n){if(this._docs=t,n&&!(n instanceof v))throw new Error(V);this._myIndex=n||K(this._keyStore.keys(),this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(t){if(!s(t))return;this._docs.push(t),this._myIndex.add(t)}},{key:"removeAt",value:function(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.limit,o=a===void 0?-1:a,s=this.options,c=s.includeMatches,l=s.includeScore,d=s.shouldSort,u=s.sortFn,n=i(t)?i(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return ke(n,this._keyStore),d&&n.sort(u),Z(o)&&o>-1&&(n=n.slice(0,o)),re(n,this._docs,{includeMatches:c,includeScore:l})}},{key:"_searchStringList",value:function(t){var o=E(t,this.options),i=this._myIndex.records,n=[];return i.forEach(function(e){var t=e.v,a=e.i,r=e.n;if(!s(t))return;var i=o.searchIn(t),c=i.isMatch,l=i.score,d=i.indices;c&&n.push({item:t,idx:a,matches:[{score:l,value:t,norm:r,indices:d}]})}),n}},{key:"_searchLogical",value:function(t){var a=this,r=W(t,this.options),o=this._myIndex,c=o.keys,l=o.records,n={},i=[],u=function e(t,s,o){if(t.children){for(m=t.operator,r=[],l=0;l<t.children.length;l+=1)if(f=t.children[l],u=e(f,s,o),u&&u.length){if(r.push({idx:o,item:s,matches:u}),m===h.OR)break}else if(m===h.AND){r.length=0;break}r.length&&(n[o]||(n[o]={idx:o,item:s,matches:[]},i.push(n[o])),r.forEach(function(e){var t,s=e.matches;(t=n[o].matches).push.apply(t,d(s))}))}else{var r,l,u,m,f,p=t.key,g=t.searcher,v=s[c.indexOf(p)];return a._findMatches({key:p,value:v,searcher:g})}};return l.forEach(function(e){var t=e.$,n=e.i;s(t)&&u(r,t,n)}),i}},{key:"_searchObjectList",value:function(t){var i=this,a=E(t,this.options),n=this._myIndex,r=n.keys,c=n.records,o=[];return c.forEach(function(e){var t,n=e.$,c=e.i;if(!s(n))return;t=[],r.forEach(function(e,s){t.push.apply(t,d(i._findMatches({key:e,value:n[s],searcher:a})))}),t.length&&o.push({idx:c,item:n,matches:t})}),o}},{key:"_findMatches",value:function(t){var a=t.key,n=t.value,r=t.searcher;if(!s(n))return[];if(o=[],u(n))n.forEach(function(e){var t=e.v,i=e.i,c=e.n;if(!s(t))return;var n=r.searchIn(t),l=n.isMatch,d=n.score,u=n.indices;l&&o.push({score:d,key:a,value:t,idx:i,norm:c,indices:u})});else{var o,c=n.v,l=n.n,i=r.searchIn(c),d=i.isMatch,h=i.score,m=i.indices;d&&o.push({score:h,key:a,value:c,norm:l,indices:m})}return o}}]),o}();function ke(e,t){e.forEach(function(e){var n=1;e.matches.forEach(function(e){var i=e.key,a=e.norm,s=e.score,o=t.get(i,"weight");n*=Math.pow(s===0&&o?Number.EPSILON:s,(o||1)*a)}),e.score=n})}function re(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.includeMatches,r=i===void 0?e.includeMatches:i,a=o.includeScore,c=a===void 0?e.includeScore:a,s=[];return r&&s.push(Oe),c&&s.push(we),t.map(function(e){var t=e.idx,o={item:n[t],refIndex:t};return s.length&&s.forEach(function(t){t(e,o)}),o})}return c.version="6.0.0",c.createIndex=K,c.parseIndex=xe,c.config=e,c.parseQuery=W,je(X),c})