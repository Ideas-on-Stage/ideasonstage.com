{{ "<!-- shortcodes:events.html:start -->" | safeHTML }}
<div class="layout-shortcode flex-justify-center {{ with .Params.style }}{{ . }}{{ end }}">
{{- if .Params.title }}
	<div class="layout-shortcode-child">
		<h3 class="text-center">{{ .Params.title }}</h3>
	</div>
{{- end }}
{{- $style := .Params.style }}
{{- $atleastone := false }}
{{- range $.Page.Params.events }}
	{{- if and (ge .startdate (now.Format "2006-01-02")) (not .draft) }}
	{{- $atleastone = true }}
	<div class="flex-parent-row flex-column-ontall">
		<div class="flex-child 40p layout-shortcode-child ">
			<img src="{{ .image }}">
		</div>
		<div class="flex-child 60p layout-shortcode-child">
			<h4 class="margin-none">{{ .name }}</h4>
		    <p>{{ .description }}<br />
			{{ partial "f/getdatetime" .startdate }}<br />
			{{ .performer }}<br />
			{{- range .offers }}
			<a href="{{ .url }}" class="button-secondary">{{ .button }}</a>
			{{- end }}
		</div>
	</div>
	{{- end }}
{{- end }}
{{- if not $atleastone }}
	<div class="flex-parent-row flex-column-ontall flex-justify-center">
		<p>{{ site.Params.events.empty }}</p>
	</div>
{{- end }}
</div>
{{ "<!-- shortcodes:events.html:end -->" | safeHTML }}
