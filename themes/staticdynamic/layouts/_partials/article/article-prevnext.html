{{/* <!-- 
	
	main-prevnext.html
	
	Pagination buttons for lists

--> */}}

{{- $ancestor := .Parent -}}
{{- $prevgenerated := false -}}
{{- $nextgenerated := false -}}

<nav id="prevnext"  class="cl-article-prevnext">
	<ul>

		{{/* <!-- .Next and .Prev seem reversed because Hugo's default sort order is "desc" --> */}}
		{{- with .Next -}}
		{{- if .IsDescendant $ancestor -}}
		<li>
			<a href="{{ .Permalink }}" class="cl-core--button-secondary">
				&larr;&nbsp;{{ .Title }}
			</a>
		</li>
		{{- $prevgenerated = true -}}
		{{- end -}}
		{{- end -}}
		
		{{- if not $prevgenerated -}}
		{{- with $ancestor -}}
		<li>
			<a href="{{ .Permalink }}" class="cl-core--button-secondary">
				&larr;&nbsp;{{ .Title }}
			</a>
		</li>
		{{- end -}}
		{{- end -}}
		
		{{- with .Prev -}}
		{{- if .IsDescendant $ancestor -}}
		<li>
			<a href="{{ .Permalink }}" class="cl-core--button-secondary">
				{{ .Title }}&nbsp;&rarr;
			</a>
		</li>
		{{- $nextgenerated = true -}}
		{{- end -}}
		{{- end -}}
		
		{{- if not $nextgenerated -}}
		{{- with $ancestor -}}
		<li>
			<a href="{{ .Permalink }}" class="cl-core--button-secondary">
				{{ .Title }}&nbsp;&rarr;
			</a>
		</li>
		{{- end -}}
		{{- end -}}
	</ul>
</nav>