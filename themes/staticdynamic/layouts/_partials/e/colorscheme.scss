{{/* <!--
	
	e/colorscheme.scss

	Used in .scss files to add a color scheme to a css class.
	- The list of elements to insert in the class is retrieved from /data/colorschemes.yaml
	- Then each element is inserted into the css class
	
	Arguments:
	- block name as string
	
--> */}}

{{/* <!-- try to get the text scheme matching the block name --> */}}
{{- $scheme := index site.Data.colorschemes . -}}

{{- printf "--colorscheme:%s;" . -}}

{{/* <!-- iterate over each item to generate the css code --> */}}
{{- range $key, $val := $scheme -}}
	{{- $type := printf "%T" $val -}}
	{{- if eq "string" $type -}}
		{{/* <!-- generate css variable --> */}}
		{{- printf "--%s:%s;" $key $val -}}
	{{- else -}}
		{{/* <!-- generate tag{ css --> */}}
		{{- with $key -}}
			{{- printf "%s{" . -}}
		{{- end -}}
		{{- range $keyb, $valb := $val -}}
			{{- $element := $key -}}
			{{- if eq "." (substr $element 0 1) -}}
				{{- $element = substr $element 1 -}}
			{{- end -}}
			{{/* <!-- generate css variable --> */}}
			{{- printf "--%s: %s;" $keyb $valb -}}
		{{- end -}}
		{{/* <!-- close "tag" css --> */}}
		{{- printf "}" -}}
	{{- end -}}
{{- end -}}
