{{ "<!-- partials:page-slider.html:start -->" | safeHTML }}
<div class="heroslider layout-hero">
	{{- $.Scratch.Set "counter" 0 }}
	{{- $slidercount := 0 }}
	{{- range .Params.slider.list }}
		{{- if (partial "f/isactive" .) }}
			{{ $slidercount = add $slidercount 1 }}
			{{- $.Scratch.Set "counter" (add ($.Scratch.Get "counter") 1) }}
		<input type="radio" id="heroslider-{{$.Scratch.Get "counter"}}" name="heroslider[]" {{ if eq 1 ($.Scratch.Get "counter") }}checked{{ end }}>
		{{- end }}
	{{- end }}
	<ul class="heroslider__items">
	{{- range .Params.slider.list }}{{- if (partial "f/isactive" .) }}
		<li class="heroslider__item">
			<div class="layout-absolute layout-hero">
				<img src="{{ .bgimage }}" alt="">
			</div>
			<div class= "layout-absolute layout-hero" {{ with .opacity }}style="background-color:rgba(0,0,0,.{{ . }});"{{ end }}>					
				<div class="flex-parent-column flex-justify-center flex-align-center">
					{{- if gt $slidercount 1 }}
	    		<h2 class="style-slider-title">
						{{ .title | safeHTML }}
					</h2>
					{{- else }}{{/* <!-- use h1 if only one slider --> */}}
						{{ if eq true $.Page.Params.Hidetitle }}
							<h1 class="style-slider-title">
						{{ else }}
							<h2 class="style-slider-title">
						{{ end }}
						{{ .title | safeHTML }}
						{{ if eq true $.Page.Params.hidetitle }}
							</h1>
						{{ else }}
							</h2>
						{{ end }}

					{{- end }}
					{{- if .description }}
					<p class="style-slider-subtitle">{{ .description }}</p>
					{{- end }}
					{{- if .button }}
					<a href="{{ .buttonlink }}" class="button-primary">{{ .button }}</a>
					{{- end }}
				</div>
			</div>
		</li>
	{{- end }}{{ end }}
	</ul>	
	<div class="heroslider__prev">
	{{- $.Scratch.Set "counter" 0 }}
	{{- range .Params.slider.list }}{{- if (partial "f/isactive" .) }}{{- $.Scratch.Set "counter" (add ($.Scratch.Get "counter") 1) }}
   		<label for="heroslider-{{$.Scratch.Get "counter"}}"></label>
	{{- end }}{{ end }}
	</div>
	<div class="heroslider__next">
	{{- $.Scratch.Set "counter" 0 }}
	{{- range .Params.slider.list }}{{- if (partial "f/isactive" .) }}
		{{- $.Scratch.Set "counter" (add ($.Scratch.Get "counter") 1) }}
       <label for="heroslider-{{$.Scratch.Get "counter"}}"></label>
	{{- end }}{{- end }}
	</div>
	{{- if gt $slidercount 1 }}
	<div class="heroslider__nav">
	{{- $.Scratch.Set "counter" 0 }}
	{{- range .Params.slider.list }}{{- if (partial "f/isactive" .) }}
		{{- $.Scratch.Set "counter" (add ($.Scratch.Get "counter") 1) }}
		<label for="heroslider-{{$.Scratch.Get "counter"}}"></label>
	{{- end }}{{- end }}
	</div>
	{{- end }}
</div>
{{ "<!-- partials:page-slider.html:end -->" | safeHTML }}