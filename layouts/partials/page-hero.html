{{ "<!-- partials:page-hero.html:start -->" | safeHTML }}

{{/* <!-- get hero picture if there is one available --> */}}
{{- $heropath := partial "f/getheropicturepath" . }}

{{/* <!-- if call to action exists --> */}}
{{- if isset .Params "cta" }}
	{{/* <!-- if pic exists, create hero area --> */}}
	<header id="hero" class="layout-module-hero">
		<div class="layout-module-layer">
			<img src="{{ .Params.cta.Picture }}" alt="{{ .Params.cta.title }}">
		</div>
		{{/* <!-- adding layout-hero div corrects bug on browsers where sticky doesn't work --> */}}
		<div class= "layout-module-layer" {{ with .Params.cta.opacity }}style="background-color:rgba(0,0,0,.{{ . }});"{{ end }}>
			<div class="flex-parent flex-column flex-justify-center flex-align-center">
				{{ if eq "h2" .Params.cta.level }}
					<h2 class="text-white text-center">{{ "<!-- picture and h1 -->" | safeHTML }}
						{{- with .Params.cta.title }}
							{{ . | markdownify }}
						{{ end }}
					</h2>
				{{ else }}
					<h1 class="text-white text-center">{{ "<!-- picture and h2 -->" | safeHTML }}
						{{- with .Params.cta.title }}
							{{ . | markdownify }}
						{{ end }}
					</h1>
				{{ end }}
				{{ with .Params.cta.description }}
					<p class="text-white text-center">{{ . }}</p>
				{{ end }}
				{{ with .Params.cta.button }}
					<a href="{{ .link }}" class="button-primary">{{ .text }}</a>
				{{ end }}
			</div>
		</div>
	</header>
	
{{/* <!-- if enablehero is true --> */}}
{{ else if eq true .Params.enablehero }}
	<header id="hero" class="layout-module-hero">
		<div class="layout-module-layer">
			<img src="{{ $heropath }}" {{ with .Title }}alt="{{ . }}"{{ end }}>
		</div>
		<div class="layout-module-layer">
			<div class="layout-page-title style-page-title-overlay">
				{{ if eq true $.Page.Params.Heroh2 }}
					<h2 class="text-center">{{ "<!-- picture and h1 -->" | safeHTML }}
						{{ with .Title }}{{ . | markdownify }}{{ end }}
					</h2>
				{{ else }}
					<h1 class="text-center">{{ "<!-- picture and h2 -->" | safeHTML }}
						{{ with .Title }}{{ . | markdownify }}{{ end }}
					</h1>
				{{ end }}
			</div>
		</div>
	</header>
	
{{- else if .Title -}}
	{{/* <!-- else if title exists, create title area --> */}}
	{{ if and (eq .Section "news") (.IsPage) }}
		{{/* <!-- no title for news pages (ideally should be replaced by a parameter) --> */}}
	{{ else if and (eq .Section "team") (.IsPage) }}
		{{/* <!-- no title for team member  pages (ideally should be replaced by a parameter) --> */}}
	{{ else }}
		<header id="title" class="layout-module-title">
			<div class="layout-page-title style-page-title">
				<h1>
					{{ with .Title }}{{ . | markdownify }}{{ end }}
				</h1>
			</div>
		</header>
	{{ end }}
		
{{ end }}
{{ "<!-- partials:page-hero.html:end -->" | safeHTML }}
